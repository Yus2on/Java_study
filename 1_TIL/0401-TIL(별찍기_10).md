# TIL (Today I Learned)

### 별 찍기 - 10

### https://www.acmicpc.net/problem/2447

<br>

### 문제 설명

- 재귀적인 패턴으로 별을 찍어 보자. N이 3의 거듭제곱(3, 9, 27, ...)이라고 할 때, 크기 N의 패턴은 N×N 정사각형 모양이다.

- 크기 3의 패턴은 가운데에 공백이 있고, 가운데를 제외한 모든 칸에 별이 하나씩 있는 패턴이다.

  ```
  ***
  * *
  ***
  ```

- N이 3보다 클 경우, 크기 N의 패턴은 공백으로 채워진 가운데의 (N/3)×(N/3) 정사각형을 크기 N/3의 패턴으로 둘러싼 형태이다. 예를 들어 크기 27의 패턴은 예제 출력 1과 같다.

<!--more-->

<br>

### 입력

- 첫째 줄에 N이 주어진다. N은 3의 거듭제곱이다. 즉 어떤 정수 k에 대해 N=3k이며, 이때 1 ≤ k < 8이다.

<br>

### 출력

- 첫째 줄부터 N번째 줄까지 별을 출력한다.

<br>

### 입출력 예

```
// 입력
27

// 출력 
***************************
* ** ** ** ** ** ** ** ** *
***************************
***   ******   ******   ***
* *   * ** *   * ** *   * *
***   ******   ******   ***
***************************
* ** ** ** ** ** ** ** ** *
***************************
*********         *********
* ** ** *         * ** ** *
*********         *********
***   ***         ***   ***
* *   * *         * *   * *
***   ***         ***   ***
*********         *********
* ** ** *         * ** ** *
*********         *********
***************************
* ** ** ** ** ** ** ** ** *
***************************
***   ******   ******   ***
* *   * ** *   * ** *   * *
***   ******   ******   ***
***************************
* ** ** ** ** ** ** ** ** *
***************************
```

<br>



---------------



<br>

### 문제풀이

- 수는 3의 거듭제곱 수 일 때의 모양은 아래와 같다.

  - N = 3

  ![N = 3](https://blog.kakaocdn.net/dn/bFjGVk/btqEa0Wpu7R/oTchHbIczpnvZxQNQwokBK/img.png)

  - N = 3^2 = 9 

    ![N = 3^2 = 9 ](https://blog.kakaocdn.net/dn/d9Fv4K/btqD9OoAauY/H0osMI6qnqQkl6sMfr0kJ1/img.png)

  - N = 3^3 = 27

    ![N = 3^3 = 27](https://blog.kakaocdn.net/dn/zLU8n/btqEbvn7deX/Lxuu9z7N79WLJd6MI0BeA0/img.png)

- 2차원 배열과 행을 x, 열을 y 로 생각해서 N = 3 일 때를 기준으로 2차원 배열의 인덱스는 0 부터이므로 **N = 3 일 때의 공백은** `arr[1][1]` 

- 행부터 채울 때 (0, 0), (0, 1), (0, 2), (1, 0) 까지는 별을 출력하고 별 출력이 **4 번 이루어지면** **그다음 블럭은 반드시 공백**

- N = 9 일 때는 N = 3 일 때의 모양이 한 블럭이 되어 반복된다

  - 9개의 블록으로 나눈 뒤, 가운데 공백은 공백 문자로 채우고 공백이 아니라면 다시 재귀를 호출 -> N =3 일 때로 되고 반복하다보면 N = 1 이 된다
  - N = 1 일 땐 더 이상 나눌 수가 없으니 별을 찍어주고 종료한다.

- BufferedReader와 BufferedWriter 를 이용해 시간을 줄인다.

- -  **dz=** 가 입력되면 이건 크로아티아 알파벳인 **dž** 로 하나의 단어로 셀 수 있도록 해야한다. 
  - 문자 c 를 입력받는다면 그 다음 문자를 참조하여 = 일 경우 č , - 일경우 ć 인 하나의 문자로 처리해야 한다.
  - 해당 조건문을 만족하면 i 를 1 증가시켜 다음 문자를 건너 뛰게 해준다.
  - 해당 반복문이 종료될 때마다 cnt 변수를 1 증가 시킨다.

```java
import java.io.*;

// N이 3의 거듭제곱(3, 9, 27, ...)이라고 할 때, 크기 N의 패턴은 N×N 정사각형 모양
// 크기 3의 패턴은 가운데에 공백이 있고, 가운데를 제외한 모든 칸에 별이 하나씩 있는 패턴
// N이 3보다 클 경우, 공백으로 채워진 가운데의 (N/3)×(N/3) 정사각형을 크기 N/3의 패턴으로 둘러싼 형태
// N은 3의 거듭제곱이다. 즉 어떤 정수 k에 대해 N=3k

class Main {
    static char[][] arr;

    public static void main (String [] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        int n = Integer.parseInt(br.readLine());
        arr = new char[n][n];

        star (0, 0, n, false);

        for (int i = 0; i < n; i ++) {
            bw.write(arr[i]);
            bw.write("\n");
        } // end for

        bw.flush();
        bw.close();
    }

    public static void star (int x, int y, int n, boolean flag) {
        if (flag) { // 공백일 때 
            for (int i = x; i < x + n; i++) {
                for (int j = y; j < y + n; j++) {
                    arr[i][j] = ' ';
                } // end for
            } // end for
            return;
        }

        if (n == 1) {
            arr[x][y] = '*'; // 별 찍고
            return; // 종료
        }

        int size = n / 3; // 입력받은 n 값을 계속 3씩 나눠줌
        int cnt = 0;
        for (int i = x; i < x + n; i += size) {
            for (int j = y; j < y + n; j += size) {
                cnt ++;
                if (cnt == 5) { // 공백일 때
                    star(i, j, size, true);
                } else {
                    star(i, j, size, false);
                }
            } // end for
        } // end for

    }
}
```

<br>

### 정리

- 처음 봤을 땐 대충 규칙이 있다는 것을 알 수 있었지만 풀다가 도저히 감이 안 잡혀서 결국 다른 블로그에서 해설을 찾아 본 문제이다. 내 생각 이상으로 복잡했다. n = 3 일 때를 출력하는 건 쉬웠지만 N이 9, 27이 될 때 생각할 수가 없었다.

- 아직도 완전히 이해되지 않았기 때문에 지속적으로 해설을 볼 필요가 있다.

- 처음 코드는 아래와 같이 만들었는데, 이렇게 되면 N = 9, N = 27 일 때 원하는 식으로 동작하지 않아 수정이 필요했다. 

  - 한 칸일 때만 공백이나 별을 찍을 수 있게 만들어야 했다. 
  - 처음에는 공백이 `[1][1]` 인 것만 생각했는데 별이 4번  찍힌 후엔 그 다음 무조건 공백이라는 것을 다른 해설을 참조하면서 새로 깨달았다. 

  ```java
  for (int i = 0; i < 3; i ++) {
    for (int j = 0; j < 3; j ++) {
      if (i == 1 && j == 1) {
        arr[i][j] = ' ';
      } else {
        arr[i][j] = '*';
      }
      
    } // end for 
  }// end for 
  ```

